
// $fonts-dir: '../font-noto/';
// @import 'font-noto/font-noto-serif';
// $default-face: $font-noto-serif;

// $fonts-dir: '../font-lato/';
// @import 'font-lato/font-lato';
// $default-face: $font-lato;

$fonts-dir: '../font-jost/';
@import 'font-jost/font-jost';
$default-face: $font-jost;

// $fonts-dir: '../font-humanist/';
// @import 'font-humanist/font-humanist';
// $default-face: $font-humanist;


@import 'typography/typography';

// $show-grid-baseline-correction: false;
@import 'typography/show-grid';

.normal {
    //    @include show-grid($default-grid, false, lines);
    @include show-lines($default-grid, $raw: true);
}

$large-font-size: 120;

$large-grid: (face: $default-face,
              root-size: $large-font-size * 1.25,
              font-size: .8,
              line-height: 1,
              column-width: 9,
              row-height: 6,
              page-h-margins: 1,
              gutter-width: 1,
              gutter-height: 1);

.large {
    @include show-lines($large-grid, $raw: true);

    $aratio: grid-ascender-ratio($large-grid);
    $dratio: grid-descender-ratio($large-grid);
    $fsize: grid-font-size($large-grid);
    $r: grid-root-size($large-grid);
    // @debug $fsize "---" $dratio;

    position: relative;

    &::after {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        content: ' ';
        $offset: ($fsize * $dratio + 1 - $fsize) / 2;
        // $offset: $fsize * $r
        // @debug $r "---" -$offset * $r;
        @include show-lines($large-grid, -$offset * $r, $color: red);    
    }

    &::before {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        content: ' ';
        $offset: ($fsize * $aratio + 1 - $fsize) / 2;
        // @include show-lines($large-grid, $offset * $r, $color: green);    
    }
}

.large > p {
    $base: grid-font-size($large-grid) * grid-root-size($large-grid) * 1px;
    // background-color: lightgrey;
    height: $base * 1.5;
    font-size: $base;
    line-height: grid-root-size($large-grid) * 1px;
    overflow-x: visible;
    white-space: nowrap;
    
}


$medium-font-size: 36;

$medium-grid: (face: $default-face,
              root-size: $medium-font-size * 1.25,
              font-size: .8,
              line-height: 1,
              column-width: 9,
              row-height: 6,
              page-h-margins: 1,
              gutter-width: 1,
              gutter-height: 1);

// @debug grid-baseline-correction($medium-grid);


// .large, .normal { display: none };
.medium {
    @include show-lines($medium-grid, $raw: true);    
}

html {
    font-size: 16 * 1.25px;
    font-family: grid-face-family($default-grid), sans;
    // font-size: 21.33px;
    // font-family: xxx

    body {
        line-height: 1rem;
        // line-height: 21.33333px;
        font-size: 16px;
        margin: 0 auto;
        max-width: 800px;
    }
}

p {
    margin: 0;
}

section {
    margin-bottom: 2rem;
}

.medium > p {
    $base: $medium-font-size * 1px;
    // background-color: lightgrey;
    font-size: $base;
    line-height: $base * 1.25;
}
